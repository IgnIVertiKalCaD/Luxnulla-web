<button [cdkMenuTriggerFor]="calendar">
  <svg width="13" height="15" viewBox="0 0 13 15" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M3.5 0.75C3.96484 0.75 4.375 1.16016 4.375 1.625V2.5H7.875V1.625C7.875 1.16016 8.25781 0.75 8.75 0.75C9.21484 0.75 9.625 1.16016 9.625 1.625V2.5H10.9375C11.6484 2.5 12.25 3.10156 12.25 3.8125V5.125H0V3.8125C0 3.10156 0.574219 2.5 1.3125 2.5H2.625V1.625C2.625 1.16016 3.00781 0.75 3.5 0.75ZM0 6H12.25V13.4375C12.25 14.1758 11.6484 14.75 10.9375 14.75H1.3125C0.574219 14.75 0 14.1758 0 13.4375V6ZM1.75 8.1875V9.0625C1.75 9.30859 1.94141 9.5 2.1875 9.5H3.0625C3.28125 9.5 3.5 9.30859 3.5 9.0625V8.1875C3.5 7.96875 3.28125 7.75 3.0625 7.75H2.1875C1.94141 7.75 1.75 7.96875 1.75 8.1875ZM5.25 8.1875V9.0625C5.25 9.30859 5.44141 9.5 5.6875 9.5H6.5625C6.78125 9.5 7 9.30859 7 9.0625V8.1875C7 7.96875 6.78125 7.75 6.5625 7.75H5.6875C5.44141 7.75 5.25 7.96875 5.25 8.1875ZM9.1875 7.75C8.94141 7.75 8.75 7.96875 8.75 8.1875V9.0625C8.75 9.30859 8.94141 9.5 9.1875 9.5H10.0625C10.2812 9.5 10.5 9.30859 10.5 9.0625V8.1875C10.5 7.96875 10.2812 7.75 10.0625 7.75H9.1875ZM1.75 11.6875V12.5625C1.75 12.8086 1.94141 13 2.1875 13H3.0625C3.28125 13 3.5 12.8086 3.5 12.5625V11.6875C3.5 11.4688 3.28125 11.25 3.0625 11.25H2.1875C1.94141 11.25 1.75 11.4688 1.75 11.6875ZM5.6875 11.25C5.44141 11.25 5.25 11.4688 5.25 11.6875V12.5625C5.25 12.8086 5.44141 13 5.6875 13H6.5625C6.78125 13 7 12.8086 7 12.5625V11.6875C7 11.4688 6.78125 11.25 6.5625 11.25H5.6875ZM8.75 11.6875V12.5625C8.75 12.8086 8.94141 13 9.1875 13H10.0625C10.2812 13 10.5 12.8086 10.5 12.5625V11.6875C10.5 11.4688 10.2812 11.25 10.0625 11.25H9.1875C8.94141 11.25 8.75 11.4688 8.75 11.6875Z"
      fill="#CDDBF8"/>
  </svg>
</button>

<ng-template #calendar>
  <div class="calendar">
    <div class="header">
      <div class="title">
        Select date range

        <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg" (click)="close()">
          <path
            d="M9.43359 1.49609L6.15234 4.77734L9.40625 8.03125C9.67969 8.27734 9.67969 8.6875 9.40625 8.93359C9.16016 9.20703 8.75 9.20703 8.50391 8.93359L5.22266 5.67969L1.96875 8.93359C1.72266 9.20703 1.3125 9.20703 1.06641 8.93359C0.792969 8.6875 0.792969 8.27734 1.06641 8.00391L4.32031 4.75L1.06641 1.49609C0.792969 1.25 0.792969 0.839844 1.06641 0.566406C1.3125 0.320312 1.72266 0.320312 1.99609 0.566406L5.25 3.84766L8.50391 0.59375C8.75 0.320312 9.16016 0.320312 9.43359 0.59375C9.67969 0.839844 9.67969 1.25 9.43359 1.49609Z"
            fill="#BDBDBD"/>
        </svg>
      </div>

      <div class="range-date">
        <span>{{ formattedDateRange }}</span>
      </div>
    </div>

    <app-separator/>

    <div class="current-date">
      <span>{{ getMonthName(currentMonth) }} {{ currentYear }}</span>

      <div>
        <app-icon className="transparent_v1" (click)="prevMonth()" width="32px" height="32px">
          <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M0.46875 6.46875L6.46875 0.5C6.75 0.1875 7.21875 0.1875 7.53125 0.5C7.8125 0.78125 7.8125 1.25 7.53125 1.53125L2.03125 7L7.5 12.5C7.8125 12.7812 7.8125 13.25 7.5 13.5312C7.21875 13.8438 6.75 13.8438 6.46875 13.5312L0.46875 7.53125C0.15625 7.25 0.15625 6.78125 0.46875 6.46875Z"
              fill="#8FA2EA"/>
          </svg>
        </app-icon>

        <app-icon className="transparent_v1" (click)="nextMonth()" width="32px" height="32px">
          <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M7.53125 6.46875C7.8125 6.78125 7.8125 7.25 7.53125 7.53125L1.53125 13.5312C1.21875 13.8438 0.75 13.8438 0.46875 13.5312C0.15625 13.25 0.15625 12.7812 0.46875 12.5L5.9375 7.03125L0.46875 1.53125C0.15625 1.25 0.15625 0.78125 0.46875 0.5C0.75 0.1875 1.21875 0.1875 1.5 0.5L7.53125 6.46875Z"
              fill="#8FA2EA"/>
          </svg>
        </app-icon>
      </div>
    </div>

    <app-separator/>

    <div class="calendar-body">
      <div class="calendar-weekdays">
        <div *ngFor="let day of ['M', 'T', 'W', 'T', 'F', 'S', 'S']">{{ day }}</div>
      </div>
      <div class="calendar-weeks">
        <div class="calendar-week" *ngFor="let week of weeks">
          <div
            class="calendar-day"
            *ngFor="let dateObj of week"
            [class.other-month]="!dateObj.isCurrentMonth"
            [class.single]="mode === 'single'"
            [class.selected]="dateObj.isSelected"
            [class.end-date]="isEndDate(dateObj.date)"
            [class.start-date]="isStartDate(dateObj.date)"
            [class.in-range]="dateObj.isInRange"
            (click)="selectDate(dateObj.date)"
          >
            {{ dateObj.date.getDate() }}
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
